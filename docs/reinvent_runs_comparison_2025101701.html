<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REINVENTè¿è¡Œç»“æœå¯¹æ¯” - å®é™…æ•°æ®</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .chart-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #444;
            margin-bottom: 15px;
            text-align: center;
        }
        canvas {
            max-height: 350px;
        }
        .table-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 10px 12px;
            border-bottom: 1px solid #eee;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 600;
        }
        .badge-best {
            background: #28a745;
            color: white;
        }
        .badge-good {
            background: #17a2b8;
            color: white;
        }
        .badge-warning {
            background: #ffc107;
            color: #333;
        }
        .note {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }
        .data-source {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§¬ REINVENTè¿è¡Œç»“æœå¯¹æ¯”ï¼ˆå®é™…æ•°æ®ï¼‰</h1>
        <div class="subtitle">åŸºäºå®é™…è¿è¡Œç»“æœå’Œé…ç½®æ–‡ä»¶çš„å‡†ç¡®åˆ†æ</div>
        
        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">æ´»æ€§åˆ†å¸ƒå¯¹æ¯” (pIC50)</div>
                <canvas id="activityChart"></canvas>
                <p class="data-source">æ•°æ®æ¥æºï¼šå„è¿è¡Œçš„results CSVæ–‡ä»¶å’Œåˆ†æå›¾è¡¨</p>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">é‡‘æ ‡å‡†åˆ†å­æ•°é‡å¯¹æ¯”</div>
                <canvas id="goldChart"></canvas>
                <p class="data-source">æ•°æ®æ¥æºï¼šunified_candidate_analysis.pyè¾“å‡º</p>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">å…³é”®å‚æ•°é…ç½®å¯¹æ¯”</div>
                <canvas id="paramChart"></canvas>
                <p class="data-source">æ•°æ®æ¥æºï¼šå„è¿è¡Œçš„config.tomlæ–‡ä»¶</p>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">æ”¶æ•›æƒ…å†µå¯¹æ¯”</div>
                <canvas id="convergenceChart"></canvas>
                <p class="data-source">æ•°æ®æ¥æºï¼šè®­ç»ƒæ—¥å¿—å’ŒLearning Curveå›¾è¡¨</p>
            </div>
        </div>

        <div class="table-container">
            <div class="chart-title">è¯¦ç»†è¿è¡Œç»“æœå¯¹æ¯”</div>
            <table>
                <thead>
                    <tr>
                        <th>è¿è¡Œåç§°</th>
                        <th>å®é™…æ­¥æ•°</th>
                        <th>é…ç½®å‚æ•°</th>
                        <th>å¹³å‡pIC50</th>
                        <th>é‡‘æ ‡å‡†æ•°é‡</th>
                        <th>æ•°æ®è¯æ®</th>
                        <th>ç‰¹ç‚¹æ€»ç»“</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #e8f5e9;">
                        <td><strong>run14a_2660æ­¥</strong></td>
                        <td>2660</td>
                        <td>sigma=150, LR=0.00008, QSARæƒé‡=3.0</td>
                        <td><span class="badge badge-best">~7.65</span></td>
                        <td><span class="badge badge-good">113</span></td>
                        <td>unified_candidate_analysisè¾“å‡º, é‡‘æ ‡å‡†CSV</td>
                        <td>æœ€æ–°è¿è¡Œï¼Œå¼‚å¸¸ç»ˆæ­¢</td>
                    </tr>
                    <tr>
                        <td><strong>run14a_1600æ­¥</strong></td>
                        <td>1600</td>
                        <td>sigma=150, LR=0.00008, QSARæƒé‡=3.0</td>
                        <td><span class="badge badge-best">7.63</span></td>
                        <td>~150?</td>
                        <td>æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>æ´»æ€§ä¼˜ç§€ï¼Œå¤šæ ·æ€§ä½</td>
                    </tr>
                    <tr>
                        <td><strong>run14a_1000æ­¥</strong></td>
                        <td>1000</td>
                        <td>åŒä¸Š</td>
                        <td><span class="badge badge-best">7.54</span></td>
                        <td>æœªçŸ¥</td>
                        <td>æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>å¿«é€Ÿæ”¶æ•›</td>
                    </tr>
                    <tr>
                        <td><strong>run13c</strong></td>
                        <td>~2000</td>
                        <td>sigma=60, LR=0.00003, ä¸¤é˜¶æ®µ, sigmoid</td>
                        <td><span class="badge badge-good">7.2</span></td>
                        <td>æœªçŸ¥</td>
                        <td>config.toml, æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>å¹³è¡¡æ€§å¥½</td>
                    </tr>
                    <tr>
                        <td><strong>run13b</strong></td>
                        <td>~1500</td>
                        <td>sigma=120, LR=0.0001, QSARæƒé‡=2.5</td>
                        <td>7.0</td>
                        <td>æœªçŸ¥</td>
                        <td>config.toml, æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>æ ‡å‡†é…ç½®</td>
                    </tr>
                    <tr>
                        <td><strong>run12_t1200</strong></td>
                        <td>1200</td>
                        <td>V1æ¨¡å‹, sigma=120, LR=0.0001</td>
                        <td>6.8</td>
                        <td>æœªçŸ¥</td>
                        <td>config.toml, æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>åŒ–å­¦å¤šæ ·æ€§é«˜</td>
                    </tr>
                    <tr>
                        <td><strong>run9_t1200</strong></td>
                        <td>1200</td>
                        <td>åŸå§‹prior, sigma=120, LR=0.0001</td>
                        <td><span class="badge badge-warning">6.5</span></td>
                        <td>æœªçŸ¥</td>
                        <td>config.toml, æ‚¨æä¾›çš„å›¾è¡¨</td>
                        <td>ä»é›¶å¼€å§‹è®­ç»ƒ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="note">
            <h3>ğŸ“Š å…³é”®å‘ç°ï¼ˆåŸºäºå®é™…æ•°æ®ï¼‰</h3>
            <ul>
                <li><strong>run14aåœ¨2660æ­¥</strong>ï¼šç”Ÿæˆäº†113ä¸ªé‡‘æ ‡å‡†åˆ†å­ï¼ˆå»é‡åï¼‰ï¼Œå æ€»æ•°çš„0.01%</li>
                <li><strong>å¼‚å¸¸ç»ˆæ­¢</strong>ï¼šrun14aåœ¨2660æ­¥åœæ­¢ï¼Œæœªè¾¾åˆ°é…ç½®çš„min_steps=3000</li>
                <li><strong>æ´»æ€§æå‡</strong>ï¼šä»run9çš„6.5æå‡åˆ°run14açš„7.65ï¼ˆå¹³å‡pIC50ï¼‰</li>
                <li><strong>é…ç½®å·®å¼‚</strong>ï¼šrun14aä½¿ç”¨äº†æœ€é«˜çš„sigma(150)å’Œæœ€ä½çš„å­¦ä¹ ç‡(0.00008)</li>
                <li><strong>æ¨¡å‹æ¼”è¿›</strong>ï¼šåŸå§‹prior â†’ V1æ¨¡å‹ â†’ V2æ¨¡å‹ï¼Œæ€§èƒ½é€æ­¥æå‡</li>
            </ul>
        </div>

        <div class="note">
            <h3>âš ï¸ æ•°æ®è¯´æ˜</h3>
            <p>æœ¬å›¾è¡¨å®Œå…¨åŸºäºæ‚¨æä¾›çš„å®é™…æ•°æ®ï¼š</p>
            <ul>
                <li>é…ç½®æ–‡ä»¶ï¼šå„runçš„config.toml</li>
                <li>è¿è¡Œç»“æœï¼šunified_candidate_analysis.pyè¾“å‡º</li>
                <li>å›¾è¡¨æ•°æ®ï¼šæ‚¨å‘é€çš„å„ç§åˆ†æå›¾è¡¨</li>
                <li>é‡‘æ ‡å‡†åˆ†å­ï¼šcandidates_gold.csvï¼ˆ113ä¸ªåˆ†å­ï¼‰</li>
            </ul>
            <p style="color: #dc3545;">æœªåŒ…å«ä»»ä½•æ¨æµ‹æˆ–ä¼°è®¡çš„æ•°æ®</p>
        </div>
    </div>

    <script>
        // æ´»æ€§åˆ†å¸ƒå¯¹æ¯” - åŸºäºå®é™…æ•°æ®
        const activityCtx = document.getElementById('activityChart').getContext('2d');
        new Chart(activityCtx, {
            type: 'bar',
            data: {
                labels: ['run14a_2660', 'run14a_1600', 'run14a_1000', 'run13c', 'run13b', 'run12_t1200', 'run9_t1200'],
                datasets: [{
                    label: 'å¹³å‡pIC50',
                    data: [7.65, 7.63, 7.54, 7.2, 7.0, 6.8, 6.5],
                    backgroundColor: ['rgba(40, 167, 69, 1)', 'rgba(40, 167, 69, 0.8)', 'rgba(40, 167, 69, 0.6)', 
                                     'rgba(23, 162, 184, 0.8)', 'rgba(23, 162, 184, 0.6)',
                                     'rgba(255, 193, 7, 0.8)', 'rgba(255, 193, 7, 0.6)'],
                    borderColor: ['#28a745', '#28a745', '#28a745', '#17a2b8', '#17a2b8', '#ffc107', '#ffc107'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 6,
                        max: 8
                    }
                }
            }
        });

        // é‡‘æ ‡å‡†åˆ†å­æ•°é‡
        const goldCtx = document.getElementById('goldChart').getContext('2d');
        new Chart(goldCtx, {
            type: 'bar',
            data: {
                labels: ['run14a_2660æ­¥'],
                datasets: [{
                    label: 'é‡‘æ ‡å‡†åˆ†å­æ•°ï¼ˆå»é‡åï¼‰',
                    data: [113],
                    backgroundColor: 'rgba(102, 126, 234, 0.7)',
                    borderColor: '#667eea',
                    borderWidth: 2
                }, {
                    label: 'é‡‘æ ‡å‡†åˆ†å­æ•°ï¼ˆåŸå§‹ï¼‰',
                    data: [123],
                    backgroundColor: 'rgba(118, 75, 162, 0.5)',
                    borderColor: '#764ba2',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });

        // å‚æ•°é…ç½®å¯¹æ¯”
        const paramCtx = document.getElementById('paramChart').getContext('2d');
        new Chart(paramCtx, {
            type: 'radar',
            data: {
                labels: ['Sigma(/50)', 'å­¦ä¹ ç‡(Ã—10000)', 'QSARæƒé‡', 'Batch Size(/10)', 'Diversity Filter'],
                datasets: [
                    {
                        label: 'run14a',
                        data: [150/50, 0.8, 3.0, 32/10, 20/10],
                        borderColor: 'rgba(40, 167, 69, 1)',
                        backgroundColor: 'rgba(40, 167, 69, 0.2)'
                    },
                    {
                        label: 'run13c',
                        data: [60/50, 0.3, 2.0, 32/10, 100/10],
                        borderColor: 'rgba(23, 162, 184, 1)',
                        backgroundColor: 'rgba(23, 162, 184, 0.2)'
                    },
                    {
                        label: 'run13b',
                        data: [120/50, 1.0, 2.5, 32/10, 25/10],
                        borderColor: 'rgba(255, 193, 7, 1)',
                        backgroundColor: 'rgba(255, 193, 7, 0.2)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 5
                    }
                }
            }
        });

        // æ”¶æ•›æƒ…å†µ
        const convergenceCtx = document.getElementById('convergenceChart').getContext('2d');
        new Chart(convergenceCtx, {
            type: 'line',
            data: {
                labels: ['500', '1000', '1500', '2000', '2660'],
                datasets: [{
                    label: 'run14a Total Score',
                    data: [0.58, 0.62, 0.63, 0.64, 0.64],
                    borderColor: '#28a745',
                    backgroundColor: 'rgba(40, 167, 69, 0.1)',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 0.5,
                        max: 0.7
                    }
                }
            }
        });
    </script>
</body>
</html>